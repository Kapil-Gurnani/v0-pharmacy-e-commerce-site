"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{5027:(e,t,r)=>{r.d(t,{E:()=>h});var a=r(2432),n=r(10252),l=r(62961),o=r(28970),s=r(35585),i=r(89334),c=r(89150),d=r(77382),u=r(13800);function h(e){let{data:t}=e;return(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{children:"Orders by Day"})}),(0,a.jsx)(d.Wu,{className:"h-[280px] md:h-[320px]",children:(0,a.jsx)(u.at,{config:{orders:{label:"Orders",color:"hsl(var(--chart-2))"}},className:"h-full",children:(0,a.jsx)(n.u,{width:"100%",height:"100%",children:(0,a.jsxs)(l.E,{data:t,margin:{top:10,right:16,left:0,bottom:0},children:[(0,a.jsx)(o.d,{strokeDasharray:"3 3"}),(0,a.jsx)(s.W,{dataKey:"date",tick:{fontSize:12}}),(0,a.jsx)(i.h,{tick:{fontSize:12}}),(0,a.jsx)(u.II,{content:(0,a.jsx)(u.Nt,{})}),(0,a.jsx)(c.y,{dataKey:"orders",fill:"var(--color-orders)",radius:[4,4,0,0]})]})})})})]})}},13800:(e,t,r)=>{r.d(t,{II:()=>m,Nt:()=>p,at:()=>u});var a=r(2432),n=r(80364),l=r(10252),o=r(84651),s=r(59467),i=r(84963);let c={light:"",dark:".dark"},d=n.createContext(null);function u(e){let{id:t,className:r,children:o,config:s,...c}=e,u=n.useId(),m="chart-".concat(t||u.replace(/:/g,""));return(0,a.jsx)(d.Provider,{value:{config:s},children:(0,a.jsxs)("div",{"data-slot":"chart","data-chart":m,className:(0,i.cn)("[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",r),...c,children:[(0,a.jsx)(h,{id:m,config:s}),(0,a.jsx)(l.u,{children:o})]})})}let h=e=>{let{id:t,config:r}=e,n=Object.entries(r).filter(e=>{let[,t]=e;return t.theme||t.color});return n.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(c).map(e=>{let[r,a]=e;return"\n".concat(a," [data-chart=").concat(t,"] {\n").concat(n.map(e=>{var t;let[a,n]=e,l=(null===(t=n.theme)||void 0===t?void 0:t[r])||n.color;return l?"  --color-".concat(a,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},m=o.m;function p(e){let{active:t,payload:r,className:l,indicator:o="dot",hideLabel:s=!1,hideIndicator:c=!1,label:u,labelFormatter:h,labelClassName:m,formatter:p,color:x,nameKey:g,labelKey:v}=e,{config:y}=function(){let e=n.useContext(d);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}(),j=n.useMemo(()=>{var e;if(s||!(null==r?void 0:r.length))return null;let[t]=r,n="".concat(v||(null==t?void 0:t.dataKey)||(null==t?void 0:t.name)||"value"),l=f(y,t,n),o=v||"string"!=typeof u?null==l?void 0:l.label:(null===(e=y[u])||void 0===e?void 0:e.label)||u;return h?(0,a.jsx)("div",{className:(0,i.cn)("font-medium",m),children:h(o,r)}):o?(0,a.jsx)("div",{className:(0,i.cn)("font-medium",m),children:o}):null},[u,h,r,s,m,y,v]);if(!t||!(null==r?void 0:r.length))return null;let b=1===r.length&&"dot"!==o;return(0,a.jsxs)("div",{className:(0,i.cn)("border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",l),children:[b?null:j,(0,a.jsx)("div",{className:"grid gap-1.5",children:r.map((e,t)=>{let r="".concat(g||e.name||e.dataKey||"value"),n=f(y,e,r),l=x||e.payload.fill||e.color;return(0,a.jsx)("div",{className:(0,i.cn)("[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5","dot"===o&&"items-center"),children:p&&(null==e?void 0:e.value)!==void 0&&e.name?p(e.value,e.name,e,t,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==n?void 0:n.icon)?(0,a.jsx)(n.icon,{}):!c&&(0,a.jsx)("div",{className:(0,i.cn)("shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",{"h-2.5 w-2.5":"dot"===o,"w-1":"line"===o,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===o,"my-0.5":b&&"dashed"===o}),style:{"--color-bg":l,"--color-border":l}}),(0,a.jsxs)("div",{className:(0,i.cn)("flex flex-1 justify-between leading-none",b?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[b?j:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==n?void 0:n.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"text-foreground font-mono font-medium tabular-nums",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})}function f(e,t,r){if("object"!=typeof t||null===t)return;let a="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,n=r;return r in t&&"string"==typeof t[r]?n=t[r]:a&&r in a&&"string"==typeof a[r]&&(n=a[r]),n in e?e[n]:e[r]}s.s},24251:(e,t,r)=>{r.d(t,{d:()=>h});var a=r(2432),n=r(10252),l=r(97608),o=r(28970),s=r(35585),i=r(89334),c=r(49900),d=r(77382),u=r(13800);function h(e){let{data:t}=e;return(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{children:"Revenue Over Time"})}),(0,a.jsx)(d.Wu,{className:"h-[280px] md:h-[320px]",children:(0,a.jsx)(u.at,{config:{revenue:{label:"Revenue",color:"hsl(var(--chart-1))"}},className:"h-full",children:(0,a.jsx)(n.u,{width:"100%",height:"100%",children:(0,a.jsxs)(l.b,{data:t,margin:{top:10,right:16,left:0,bottom:0},children:[(0,a.jsx)(o.d,{strokeDasharray:"3 3"}),(0,a.jsx)(s.W,{dataKey:"date",tick:{fontSize:12}}),(0,a.jsx)(i.h,{tick:{fontSize:12}}),(0,a.jsx)(u.II,{content:(0,a.jsx)(u.Nt,{})}),(0,a.jsx)(c.N,{type:"monotone",dataKey:"revenue",stroke:"var(--color-revenue)",strokeWidth:2,dot:!1})]})})})})]})}},29488:(e,t,r)=>{r.d(t,{Fw:()=>l,pe:()=>n});let a=[{id:"D-1001",createdAt:new Date(Date.now()-5184e5).toISOString(),status:"Delivered",total:1249.5,items:[{id:"p-ibuprofen",name:"Ibuprofen 200mg",price:149.5,qty:2,category:"Pain Relief"},{id:"p-vitc",name:"Vitamin C 500mg",price:250,qty:1,category:"Vitamins"},{id:"p-sanitizer",name:"Hand Sanitizer 250ml",price:150,qty:3,category:"Personal Care"}]},{id:"D-1002",createdAt:new Date(Date.now()-432e6).toISOString(),status:"Shipped",total:2199,items:[{id:"p-paracetamol",name:"Paracetamol 500mg",price:99,qty:5,category:"Pain Relief"},{id:"p-multivit",name:"Multivitamin",price:599,qty:2,category:"Vitamins"},{id:"p-mask",name:"N95 Mask",price:199,qty:3,category:"Personal Care"}]},{id:"D-1003",createdAt:new Date(Date.now()-3456e5).toISOString(),status:"Processing",total:899,items:[{id:"p-antacid",name:"Antacid Syrup",price:199,qty:2,category:"Digestive Health"},{id:"p-oral",name:"Oral Rehydration Salts",price:99,qty:3,category:"Digestive Health"},{id:"p-baby",name:"Baby Lotion 200ml",price:199,qty:1,category:"Infant Care"}]},{id:"D-1004",createdAt:new Date(Date.now()-1728e5).toISOString(),status:"Delivered",total:1799,items:[{id:"p-therm",name:"Digital Thermometer",price:499,qty:1,category:"Devices"},{id:"p-omega3",name:"Omega-3 Capsules",price:650,qty:2,category:"Vitamins"}]},{id:"D-1005",createdAt:new Date(Date.now()-864e5).toISOString(),status:"Placed",total:1299,items:[{id:"p-bp",name:"BP Monitor Cuff",price:1299,qty:1,category:"Devices"}]}];function n(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=function(){try{let e=window.localStorage.getItem("orders");if(!e)return[];let t=JSON.parse(e);if(!Array.isArray(t))return[];return t}catch(e){return[]}}();return e?[...a,...t]:t}function l(e){let t=new Map,r=0,a=0,n=new Map;for(let l of e){let e=(l.createdAt?new Date(l.createdAt):new Date).toISOString().slice(0,10),o=t.get(e)||{orders:0,revenue:0};for(let s of(t.set(e,{orders:o.orders+1,revenue:o.revenue+(l.total||0)}),r+=l.total||0,a+=1,l.items||[])){let e=s.category||"Other";n.set(e,(n.get(e)||0)+s.qty)}}let l=Array.from(t.entries()).sort((e,t)=>e[0].localeCompare(t[0])).map(e=>{let[t,r]=e;return{date:t,orders:r.orders,revenue:Number(r.revenue.toFixed(2))}}),o=Array.from(n.entries()).map(e=>{let[t,r]=e;return{name:t,qty:r}}),s=a?r/a:0;return{kpis:[{label:"Total Revenue",value:"₹".concat(r.toFixed(2))},{label:"Total Orders",value:String(a)},{label:"Avg. Order Value",value:"₹".concat(s.toFixed(2))}],ordersByDay:l,categories:o}}},30332:(e,t,r)=>{r.d(t,{A:()=>g,AuthProvider:()=>x});var a=r(2432),n=r(80364);let l=(0,n.createContext)(void 0),o="pharmacy_user",s="pharmacy_accounts",i="pharmacy_pending_signup",c="pharmacy_otps";function d(e){return e.replace(/[^\d+]/g,"")}function u(e,t){try{let r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return t}}function h(e,t){localStorage.setItem(e,JSON.stringify(t))}function m(){return String(Math.floor(1e5+9e5*Math.random()))}function p(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5,a=u(c,{});a[e]={code:t,expires:Date.now()+r},h(c,a)}function f(e,t){let r=u(c,{}),a=r[e];if(!a)return!1;let n=a.code===t&&Date.now()<a.expires;return n&&(delete r[e],h(c,r)),n}function x(e){let{children:t}=e,[r,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{try{let e=localStorage.getItem(o);e&&c(JSON.parse(e))}catch(e){}},[]);let x=async e=>{let{name:t,phone:r,password:a}=e,n=d(r);if(u(s,{})[n])throw Error("Account already exists");let l=u(i,{});l[n]={name:t.trim(),password:a},h(i,l);let o=m();return p(n,o),{otp:o}},g=async e=>{let{phone:t,otp:r}=e,a=d(t);if(!f(a,r))throw Error("Invalid or expired OTP");let n=u(i,{}),l=n[a];if(!l)throw Error("No pending signup found");let m=u(s,{});m[a]={name:l.name,password:l.password},h(s,m),delete n[a],h(i,n);let p={phone:a,name:l.name};h(o,p),c(p)},v=async e=>{let{phone:t,password:r}=e,a=d(t),n=u(s,{})[a];if(!n||n.password!==r)throw Error("Invalid phone or password");let l=m();return p(a,l),{otp:l}},y=async e=>{let{phone:t,otp:r}=e,a=d(t);if(!f(a,r))throw Error("Invalid or expired OTP");let n=u(s,{})[a];if(!n)throw Error("Account not found");let l={phone:a,name:n.name};h(o,l),c(l)},j=()=>{localStorage.removeItem(o),c(null)},b=(0,n.useMemo)(()=>({user:r,requestSignup:x,confirmSignup:g,requestSignin:v,confirmSignin:y,signOut:j}),[r]);return(0,a.jsx)(l.Provider,{value:b,children:t})}function g(){let e=(0,n.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},31495:(e,t,r)=>{r.d(t,{T:()=>d});var a=r(2432),n=r(80364),l=r(30332),o=r(36357),s=r(32317),i=r.n(s),c=r(77382);function d(e){let{children:t}=e,{user:r}=(0,l.A)();return(0,n.useMemo)(()=>(0,o.q)(r),[r])?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsx)(c.ZB,{children:"Admin Access Required"})}),(0,a.jsxs)(c.Wu,{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"You must be logged in as an admin to view this page."}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i(),{href:"/login",className:"underline",children:"Sign in"}),(0,a.jsx)(i(),{href:"/",className:"underline",children:"Go to Home"})]})]})]})}},36357:(e,t,r)=>{r.d(t,{q:()=>n});let a=new Set(["+15551234567","9999999999"]);function n(e){return null!=e&&!!e.phone&&a.has(e.phone)}},49365:(e,t,r)=>{r.d(t,{x:()=>d});var a=r(2432),n=r(10252),l=r(67852),o=r(90854),s=r(48595),i=r(77382);let c=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function d(e){let{data:t}=e,r=t.reduce((e,t)=>e+t.qty,0);return(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Category Mix"})}),(0,a.jsx)(i.Wu,{className:"h-[280px] md:h-[320px]",children:(0,a.jsxs)("div",{className:"h-full",children:[(0,a.jsx)(n.u,{width:"100%",height:"100%",children:(0,a.jsx)(l.r,{children:(0,a.jsx)(o.F,{data:t,dataKey:"qty",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:!0,children:t.map((e,t)=>(0,a.jsx)(s.f,{fill:c[t%c.length]},"cell-".concat(t)))})})}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-3",children:["Total units: ",r]})]})})]})}},77382:(e,t,r)=>{r.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>s,Zp:()=>l,aR:()=>o,wL:()=>d});var a=r(2432);r(80364);var n=r(84963);function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function s(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},84963:(e,t,r)=>{r.d(t,{cn:()=>l});var a=r(12126),n=r(68441);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}}}]);