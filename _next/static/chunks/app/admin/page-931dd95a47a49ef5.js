(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{36757:(e,a,l)=>{Promise.resolve().then(l.bind(l,85711))},85711:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>w});var t=l(2432),r=l(80364),s=l(31495),n=l(29488),d=l(77382);function i(e){let{kpis:a}=e;return(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:a.map(e=>(0,t.jsxs)(d.Zp,{children:[(0,t.jsx)(d.aR,{className:"pb-2",children:(0,t.jsx)(d.ZB,{className:"text-sm text-muted-foreground",children:e.label})}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsx)("p",{className:"text-2xl font-semibold",children:e.value}),e.sublabel?(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.sublabel}):null]})]},e.label))})}var c=l(24251),u=l(5027),o=l(49365),m=l(10252),h=l(62961),x=l(28970),v=l(35585),p=l(89334),g=l(89150),j=l(48595),f=l(13800);function b(e){let{data:a}=e,l=["var(--chart-1)","var(--chart-2)","var(--chart-3)","var(--chart-4)","var(--chart-5)"];return(0,t.jsxs)(d.Zp,{className:"w-full",children:[(0,t.jsx)(d.aR,{children:(0,t.jsx)(d.ZB,{children:"Top Products by Revenue"})}),(0,t.jsx)(d.Wu,{className:"pt-2",children:(0,t.jsx)(f.at,{className:"h-[320px]",config:{value:{label:"Revenue",color:"hsl(var(--chart-3))"}},children:(0,t.jsx)(m.u,{width:"100%",height:"100%",children:(0,t.jsxs)(h.E,{data:a,margin:{top:10,right:8,left:0,bottom:20},children:[(0,t.jsx)(x.d,{strokeDasharray:"3 3"}),(0,t.jsx)(v.W,{dataKey:"name",tick:{fontSize:12},interval:0,angle:-20,textAnchor:"end",height:50}),(0,t.jsx)(p.h,{}),(0,t.jsx)(f.II,{content:(0,t.jsx)(f.Nt,{})}),(0,t.jsx)(g.y,{dataKey:"value",radius:[6,6,0,0],children:a.map((e,a)=>(0,t.jsx)(j.f,{fill:l[a%l.length]},"cell-".concat(a)))})]})})})})]})}var N=l(67852),y=l(90854);function k(e){let{data:a}=e,l=["var(--chart-1)","var(--chart-2)","var(--chart-3)","var(--chart-4)","var(--chart-5)"];return(0,t.jsxs)(d.Zp,{className:"w-full",children:[(0,t.jsx)(d.aR,{children:(0,t.jsx)(d.ZB,{children:"Orders by Status"})}),(0,t.jsx)(d.Wu,{className:"pt-2",children:(0,t.jsx)(f.at,{className:"h-[320px]",config:{value:{label:"Count",color:"hsl(var(--chart-2))"}},children:(0,t.jsx)(m.u,{width:"100%",height:"100%",children:(0,t.jsxs)(N.r,{children:[(0,t.jsx)(y.F,{data:a,dataKey:"value",nameKey:"name",innerRadius:60,outerRadius:100,paddingAngle:4,stroke:"hsl(var(--background))",strokeWidth:2,children:a.map((e,a)=>(0,t.jsx)(j.f,{fill:l[a%l.length]},a))}),(0,t.jsx)(f.II,{content:(0,t.jsx)(f.Nt,{})})]})})})})]})}function w(){let[e,a]=(0,r.useState)("30d"),l=(0,r.useMemo)(()=>{let a=(0,n.pe)(!0);if("all"===e)return a;let l="7d"===e?7:30,t=Date.now()-864e5*l;return a.filter(e=>(e.createdAt?new Date(e.createdAt).getTime():Date.now())>=t)},[e]),{kpis:d,ordersByDay:m,categories:h}=(0,r.useMemo)(()=>(0,n.Fw)(l),[l]),x=(0,r.useMemo)(()=>{if(!(null==l?void 0:l.length))return[{name:"Paracetamol 500mg",value:9200},{name:"Vitamin C 1000mg",value:6700},{name:"Cough Syrup",value:5100},{name:"Hand Sanitizer",value:4300},{name:"Digital Thermometer",value:3200}];let e=new Map;for(let r of l)for(let l of(null==r?void 0:r.items)||[]){var a,t;let r=(null==l?void 0:l.name)||(null==l?void 0:l.title)||(null==l?void 0:l.productName)||"Unknown",s=Number(null!==(a=null==l?void 0:l.quantity)&&void 0!==a?a:1),n=Number(null!==(t=null==l?void 0:l.price)&&void 0!==t?t:0)*s;e.set(r,(e.get(r)||0)+n)}let r=Array.from(e.entries()).map(e=>{let[a,l]=e;return{name:a,value:l}});return r.sort((e,a)=>a.value-e.value),r.slice(0,8)},[l]),v=(0,r.useMemo)(()=>{if(!(null==l?void 0:l.length))return[{name:"Pending",value:18},{name:"Approved",value:42},{name:"Shipped",value:30},{name:"Delivered",value:55},{name:"Rejected",value:5}];let e=new Map;for(let a of l){let l=(null==a?void 0:a.status)||"Pending";e.set(l,(e.get(l)||0)+1)}return Array.from(e.entries()).map(e=>{let[a,l]=e;return{name:a,value:l}})},[l]);return(0,t.jsxs)(s.T,{children:[(0,t.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2",children:[(0,t.jsx)("button",{className:"px-2 py-1 rounded text-sm ".concat("7d"===e?"bg-primary text-primary-foreground":"bg-muted"),onClick:()=>a("7d"),children:"Last 7d"}),(0,t.jsx)("button",{className:"px-2 py-1 rounded text-sm ".concat("30d"===e?"bg-primary text-primary-foreground":"bg-muted"),onClick:()=>a("30d"),children:"Last 30d"}),(0,t.jsx)("button",{className:"px-2 py-1 rounded text-sm ".concat("all"===e?"bg-primary text-primary-foreground":"bg-muted"),onClick:()=>a("all"),children:"All time"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(i,{kpis:d}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,t.jsx)(c.d,{data:m.map(e=>{let{date:a,revenue:l}=e;return{date:a,revenue:l}})}),(0,t.jsx)(u.E,{data:m.map(e=>{let{date:a,orders:l}=e;return{date:a,orders:l}})})]}),(0,t.jsx)(o.x,{data:h}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,t.jsx)(b,{data:x}),(0,t.jsx)(k,{data:v})]})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[438,317,189,54,22,956,358],()=>a(36757)),_N_E=e.O()}]);