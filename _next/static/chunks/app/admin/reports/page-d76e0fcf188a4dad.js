(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[618],{27194:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(2432),a=r(31495),n=r(29488),l=r(24251),c=r(5027),d=r(49365),i=r(80364),o=r(77382),u=r(84963);function x(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,u.cn)("w-full caption-bottom text-sm",t),...r})})}function m(e){let{className:t,...r}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,u.cn)("[&_tr]:border-b",t),...r})}function h(e){let{className:t,...r}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,u.cn)("[&_tr:last-child]:border-0",t),...r})}function j(e){let{className:t,...r}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,u.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function p(e){let{className:t,...r}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,u.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function b(e){let{className:t,...r}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,u.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}let f=function(e){let{orders:t}=e,r=(0,i.useMemo)(()=>(t||[]).map(e=>({id:e.id||"—",date:function(e){try{return(e?new Date(e):new Date).toLocaleDateString()}catch(e){return""}}(e.createdAt),items:(e.items||[]).reduce((e,t)=>e+("number"==typeof t.quantity?t.quantity:1),0),amount:"number"==typeof e.total?e.total:(e.items||[]).reduce((e,t)=>e+("number"==typeof t.quantity?t.quantity:1)*("number"==typeof t.price?t.price:0),0),status:e.status||"—",customer:e.customerName||e.phone||"—"})),[t]);return(0,s.jsxs)(o.Zp,{children:[(0,s.jsx)(o.aR,{children:(0,s.jsx)(o.ZB,{children:"Order Details"})}),(0,s.jsx)(o.Wu,{children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(x,{children:[(0,s.jsx)(m,{children:(0,s.jsxs)(j,{children:[(0,s.jsx)(p,{children:"Order #"}),(0,s.jsx)(p,{children:"Date"}),(0,s.jsx)(p,{className:"text-right",children:"Items"}),(0,s.jsx)(p,{className:"text-right",children:"Amount"}),(0,s.jsx)(p,{children:"Status"}),(0,s.jsx)(p,{children:"Customer"})]})}),(0,s.jsx)(h,{children:0===r.length?(0,s.jsx)(j,{children:(0,s.jsx)(b,{colSpan:6,className:"text-center text-muted-foreground",children:"No orders found for this period."})}):r.map(e=>(0,s.jsxs)(j,{children:[(0,s.jsx)(b,{className:"font-medium",children:e.id}),(0,s.jsx)(b,{children:e.date}),(0,s.jsx)(b,{className:"text-right",children:e.items}),(0,s.jsx)(b,{className:"text-right",children:function(e){try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(e)}catch(t){return"".concat(e.toFixed(2))}}(e.amount)}),(0,s.jsx)(b,{children:(0,s.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-xs bg-muted",children:e.status})}),(0,s.jsx)(b,{children:e.customer})]},"".concat(e.id,"-").concat(e.date)))})]})})})]})};function N(){let[e,t]=(0,i.useState)("30d"),r=(0,i.useMemo)(()=>(function(e){let t=(0,n.pe)(!0);if("all"===e)return t;let r=Date.now()-864e5*("7d"===e?7:30);return t.filter(e=>(e.createdAt?new Date(e.createdAt).getTime():Date.now())>=r)})(e),[e]),{ordersByDay:u,categories:x}=(0,i.useMemo)(()=>(0,n.Fw)(r),[r]);return(0,s.jsx)(a.T,{children:(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(o.Zp,{children:[(0,s.jsxs)(o.aR,{className:"flex flex-row items-center justify-between",children:[(0,s.jsx)(o.ZB,{children:"Reports"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("button",{className:"px-2 py-1 rounded ".concat("7d"===e?"bg-primary text-primary-foreground":"bg-muted"),onClick:()=>t("7d"),children:"Last 7d"}),(0,s.jsx)("button",{className:"px-2 py-1 rounded ".concat("30d"===e?"bg-primary text-primary-foreground":"bg-muted"),onClick:()=>t("30d"),children:"Last 30d"}),(0,s.jsx)("button",{className:"px-2 py-1 rounded ".concat("all"===e?"bg-primary text-primary-foreground":"bg-muted"),onClick:()=>t("all"),children:"All time"})]})]}),(0,s.jsxs)(o.Wu,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,s.jsx)(l.d,{data:u.map(e=>{let{date:t,revenue:r}=e;return{date:t,revenue:r}})}),(0,s.jsx)(c.E,{data:u.map(e=>{let{date:t,orders:r}=e;return{date:t,orders:r}})})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(d.x,{data:x})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(f,{orders:r})})]})]})})})}},76039:(e,t,r)=>{Promise.resolve().then(r.bind(r,27194))}},e=>{var t=t=>e(e.s=t);e.O(0,[438,317,189,54,22,956,358],()=>t(76039)),_N_E=e.O()}]);